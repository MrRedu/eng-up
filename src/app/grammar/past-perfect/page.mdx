import { constructMetadata } from "@/lib/seo";

export const metadata = constructMetadata({
  title: 'Past Perfect',
  description: 'El pasado perfecto se utiliza para indicar una acción que ocurrió antes de otra acción en el pasado.',
  keywords: ['past perfect', 'pasado perfecto', 'had', 'past participle', 'participio pasado'],
});

# Past Perfect

<Typography variant="p" className="text-center">
  {`Se utiliza para indicar una acción que ocurrió antes de otra acción en el pasado.`}
</Typography>

<Typography variant="p" className="text-center text-balance">
  {`Imagina el Pasado Perfecto como una "comparación" entre dos eventos. Se usa para indicar cuál de las dos cosas ocurrió primero.`}
</Typography>

<br />
<br />

<GrammarExample
  structure={[
    { label: "Affirmative", value: "Subject + had + Past Participle + Complement" },
    { label: "Negative", value: "Subject + had + not + Past Participle + Complement" },
    { label: "Interrogative", value: "Had + Subject + Past Participle + Complement?" }
  ]}
  examples={[
    {
      type: 'Affirmative',
      text: 'I had finished my homework before dinner.',
      translation: 'Había terminado mi tarea antes de la cena.',
    },
    {
      type: 'Negative',
      text: "She had not (hadn't) seen that movie before.",
      translation: 'Ella no había visto esa película antes.',
    },
    {
      type: 'Interrogative',
      text: 'Had they left when you arrived?',
      translation: '¿Se habían ido cuando llegaste?',
    },
    {
      type: 'Answer (+)',
      text: 'Yes, they had.',
      translation: 'Sí, lo habían hecho.',
    },
    {
      type: 'Answer (-)',
      text: "No, they hadn't.",
      translation: 'No, no lo habían hecho.',
    },
  ]}
/>

<br />
<br />

{/* ## Past Perfect Continuous vs. [Past Simple](/grammar/past-simple) */}
<Typography variant="h2">Past Perfect vs. <Link href="/grammar/past-simple" className="underline" title="Ir a la sección del Past Simple">Past Simple</Link></Typography>

export const PAST_PERFECT_COMPARISON = [
  {
    first: "I had cooked dinner",
    connector: "when",
    second: "my guests arrived",
    full: "I had cooked dinner when my guests arrived.",
    translation: "Había cocinado la cena cuando llegaron mis invitados."
  },
  {
    first: "The train had left",
    connector: "before",
    second: "I reached the station",
    full: "The train had left before I reached the station.",
    translation: "El tren se había ido antes de que yo llegara a la estación."
  },
  {
    first: "She had lost her keys",
    connector: "so",
    second: "she couldn't enter",
    full: "She had lost her keys, so she couldn't enter.",
    translation: "Ella había perdido sus llaves, así que no pudo entrar."
  },
];

<Table>
  <TableCaption>Línea de tiempo: ¿Qué pasó primero?</TableCaption>
  <TableHeader>
    <TableRow>
      <TableHead>1° (Past Perfect)</TableHead>
      <TableHead>Conector</TableHead>
      <TableHead>2° (Past Simple)</TableHead>
      <TableHead>Oración Compuesta</TableHead>
    </TableRow>
  </TableHeader>
  <TableBody>
    {PAST_PERFECT_COMPARISON.map((item, index) => (
      <TableRow key={index}>
        <TableCell className="font-medium text-primary">{item.first}</TableCell>
        <TableCell className="font-mono text-xs text-muted-foreground">{item.connector}</TableCell>
        <TableCell className="font-medium">{item.second}</TableCell>
        <TableCell className="text-sm italic text-muted-foreground">
          <Popover>
            <PopoverTrigger asChild>
              <span className="cursor-pointer underline underline-offset-4 decoration-dotted decoration-primary/30">
                {item.full}
              </span>
            </PopoverTrigger>
            <PopoverContent align="start" className="w-fit max-w-70 p-3 text-sm italic">
              {item.translation}
            </PopoverContent>
          </Popover>
        </TableCell>
      </TableRow>
    ))}
  </TableBody>
</Table>

<Alert variant="warn" title="Recordatorios">
  Las oraciones suelen ser **compuestas** porque el Pasado Perfecto rara vez vive solo; casi siempre necesita de otra acción (en <Link href="/grammar/past-simple" className="underline" title="Ir a la sección del Past Simple">Pasado Simple</Link>) para tener sentido gramatical. <br/> <br/>
  Es el **pasado del pasado**. Siempre usamos **had** sin importar el sujeto.
</Alert>
